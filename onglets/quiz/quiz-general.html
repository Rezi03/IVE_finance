<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz gÃ©nÃ©ral - Finteker.fr</title>
  <link rel="stylesheet" href="../../styles/style.css">
  <link rel="icon" type="image/png" href="../../assets/img/favicon.png">


</head>
<body class="quiz-page">
  <header id="main-header"></header>

  <main class="quiz-container">
    <h1>Quiz gÃ©nÃ©ral</h1>
    <p>RÃ©pondez Ã  une sÃ©lection de questions couvrant lâ€™ensemble des cours Finteker.</p>

    <div id="quiz">
      <div class="question" id="question"></div>
      <div class="answers" id="answers"></div>
      <button id="next-btn" class="next-btn">Suivant</button>
    </div>
    <div id="result" class="result"></div>
  </main>

  <footer id="main-footer"></footer>

  <script>
    const quizData = [
      {
        question: "Quâ€™est-ce quâ€™une valorisation DCF ?",
        answers: [
          { text: "Une mÃ©thode basÃ©e sur la valeur actuelle des flux futurs", correct: true },
          { text: "Une mÃ©thode qui compare les ratios de lâ€™entreprise Ã  ceux du secteur", correct: false },
          { text: "Une Ã©valuation Ã  partir du prix des actions", correct: false },
        ]
      },
      {
        question: "Le backtesting permet deâ€¦",
        answers: [
          { text: "Simuler la performance passÃ©e dâ€™une stratÃ©gie", correct: true },
          { text: "PrÃ©voir les performances futures avec certitude", correct: false },
          { text: "Analyser uniquement les ratios comptables", correct: false },
        ]
      },
      {
        question: "Que signifie M&A ?",
        answers: [
          { text: "Mergers and Acquisitions", correct: true },
          { text: "Money and Accounting", correct: false },
          { text: "Markets and Analytics", correct: false },
        ]
      },
      {
        question: "Dans le trading, un stop-loss sert Ã â€¦",
        answers: [
          { text: "Limiter les pertes potentielles", correct: true },
          { text: "Augmenter les profits", correct: false },
          { text: "Fermer toutes les positions gagnantes", correct: false },
        ]
      },
      {
        question: "Quel indicateur mesure la rentabilitÃ© financiÃ¨re dâ€™une entreprise ?",
        answers: [
          { text: "ROE (Return on Equity)", correct: true },
          { text: "PER (Price Earnings Ratio)", correct: false },
          { text: "Beta du marchÃ©", correct: false },
        ]
      }
    ];

    const questionEl = document.getElementById("question");
    const answersEl = document.getElementById("answers");
    const nextBtn = document.getElementById("next-btn");
    const resultEl = document.getElementById("result");

    let currentQuestion = 0;
    let score = 0;

    function showQuestion() {
      resetState();
      const currentQuiz = quizData[currentQuestion];
      questionEl.textContent = currentQuiz.question;

      currentQuiz.answers.forEach(answer => {
        const button = document.createElement("button");
        button.textContent = answer.text;
        button.classList.add("answer-btn");
        button.addEventListener("click", () => selectAnswer(button, answer.correct));
        answersEl.appendChild(button);
      });
    }

    function resetState() {
      nextBtn.style.display = "none";
      answersEl.innerHTML = "";
    }

    function selectAnswer(button, isCorrect) {
      const allButtons = document.querySelectorAll(".answer-btn");
      allButtons.forEach(btn => btn.disabled = true);

      if (isCorrect) {
        button.classList.add("correct");
        score++;
      } else {
        button.classList.add("wrong");
        const correctBtn = Array.from(allButtons).find(b => quizData[currentQuestion].answers.find(a => a.text === b.textContent && a.correct));
        correctBtn.classList.add("correct");
      }

      nextBtn.style.display = "inline-block";
    }

    nextBtn.addEventListener("click", () => {
      currentQuestion++;
      if (currentQuestion < quizData.length) {
        showQuestion();
      } else {
        showResult();
      }
    });

    function showResult() {
      resetState();
      questionEl.textContent = "";
      resultEl.innerHTML = `
        Vous avez obtenu <strong>${score}</strong> / ${quizData.length} bonnes rÃ©ponses.<br><br>
        ${score === quizData.length ? "Excellent ! ğŸ‰" :
          score >= quizData.length / 2 ? "Bien jouÃ© ğŸ‘" : "Vous ferez mieux la prochaine fois ğŸ’ª"}
      `;
    }

    showQuestion();


  </script>
 </main>

  <footer id="main-footer"></footer>

  <script src="../../js/main.js" defer></script>
</body>
</html>
